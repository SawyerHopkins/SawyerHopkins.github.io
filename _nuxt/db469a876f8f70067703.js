(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{168:function(t,e,n){var i=n(179);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(15).default)("dbc1434a",i,!0,{})},177:function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";e.a={name:"image-editor",props:{width:{type:Number,default:0},height:{type:Number,default:0},file:{default:null},defaultImgUrl:{type:String,default:null},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:0},maxHeight:{type:Number,default:0}},data:()=>({zoom:1,image:null,imagePanY:0,imagePanX:0,imageWidth:0,imageHeight:0,originalBlob:null,panRefX:0,panRefY:0,panInitX:0,panInitY:0,isPanning:!1,validDrop:!1,isLoading:!1}),computed:{canvasClass(){return this.isPanning?"canvas-is-pan":this.image?"canvas-can-pan":void 0}},watch:{file(t){this.onFileChanged(t)}},methods:{onPanEnd(t){this.panRefX=0,this.panRefY=0,this.panInitX=0,this.panInitY=0,this.isPanning=!1,document.removeEventListener("mouseup",this.onPanEnd),document.removeEventListener("mousemove",this.onPan)},onPan(t){const e=this.panRefX-t.clientX,n=this.panRefY-t.clientY;this.imageWidth>this.width&&(this.imagePanX=Math.max(this.width-this.imageWidth,Math.min(0,this.panInitX-e))),this.imageHeight>this.height&&(this.imagePanY=Math.max(this.height-this.imageHeight,Math.min(0,this.panInitY-n))),this.draw()},onPanStart(t){this.image&&(this.isPanning=!0,this.panRefX=t.clientX,this.panRefY=t.clientY,this.panInitX=this.imagePanX,this.panInitY=this.imagePanY,document.addEventListener("mouseup",this.onPanEnd),document.addEventListener("mousemove",this.onPan))},transformBlob(t,e){return new Promise((t,n)=>{try{const i=document.createElement("canvas");i.width=e.width,i.height=e.height;const a=i.getContext("2d"),r=this.imagePanX*e.width/this.width,s=this.imagePanY*e.height/this.height,o=this.imageWidth*e.width/this.width,h=this.imageHeight*e.height/this.height;a.save(),a.clearRect(0,0,e.width,e.height),a.drawImage(this.image,r,s,o,h),a.restore(),i.toBlob(t)}catch(t){n(new Error("Unable to transform blob"))}})},async exportCanvas(t=[]){if(!this.originalBlob)return[];const e=[this.originalBlob];for(const n of t){const t=await this.transformBlob(this.originalBlob,n);e.push(t)}return e},clear(){const t=this.$refs.editor.getContext("2d");t.save(),t.clearRect(0,0,this.width,this.height),t.restore()},draw(){const t=this.$refs.editor.getContext("2d");this.clear(),t.save(),t.drawImage(this.image,this.imagePanX,this.imagePanY,this.imageWidth,this.imageHeight),t.restore(),this.$emit("draw",{exportCanvas:this.exportCanvas})},validateImage(t){return!(this.minWidth&&t.width<this.minWidth||this.minHeight&&t.height<this.minHeight||this.maxWidth&&t.width>this.maxWidth||this.maxHeight&&t.height>this.maxHeight)},onImageReady(t){const e={width:t.width,height:t.height},n={width:this.width,height:this.height},{width:i,height:a,panX:r,panY:s}=((t,e)=>{const n=e.width/e.height,i=t.width/t.height;let a,r,s,o;if(n<i){r=(a=t.width)/n;const e=(t.height-r)/2;o=e<0?e:0,s=0}else if(n>i){a=(r=t.height)*n;const e=(t.width-a)/2;s=e<0?e:0,o=0}else a=t.width,r=t.height,s=0,o=0;return{width:a,height:r,panX:s,panY:o}})(n,e);this.imageWidth=i,this.imageHeight=a,this.imagePanX=r,this.imagePanY=s,this.zoom=1,this.image=t,this.draw()},onError(t,...e){this.image=null,this.originalBlob=null,this.clear(),this.$emit(t,...e)},onFileChanged(t){if(null===t)return this.onError("cleared");if(!(t instanceof Blob))return this.onError("loaderror");this.originalBlob=t;const e=new FileReader;e.onload=(t=>{const e=new Image;e.onload=(()=>{this.isLoading=!1,this.validateImage(e)?this.onImageReady(e):this.$emit("validationFailed")}),e.onerror=(()=>{this.isLoading=!1,this.onError("loaderror")}),e.src=t.target.result}),this.isLoading=!0,e.readAsDataURL(t)},onDrop(t){t.preventDefault(),this.$emit("drop",t),this.validDrop=!1},onDragOver(t){t.preventDefault(),this.validDrop=!0},onDragLeave(){this.validDrop=!1}},mounted(){if(!this.defaultImgUrl)return;const t=new Image;t.onload=(()=>{this.isLoading=!1,this.onImageReady(t)}),this.isLoading=!0,t.src=this.defaultImgUrl},beforeDestroy(){document.removeEventListener("mouseup",this.onPanEnd),document.removeEventListener("mousemove",this.onPan)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(7),r=n(8),s=Object(r.a)(i.a,a.a,a.b,!1,function(t){n(2)},"data-v-3c208292",null);s.options.__file="src/main.vue",e.default=s.exports},function(t,e,n){var i=n(3);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),(0,n(5).default)("760200fe",i,!1,{})},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,"\n.canvas-can-pan[data-v-3c208292] {\n  cursor: -webkit-grab;\n  cursor: grab\n}\n.canvas-is-pan[data-v-3c208292] {\n  cursor: -webkit-grabbing;\n  cursor: grabbing\n}\n.upload-overlay[data-v-3c208292] {\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  pointer-events: none;\n}\n.default-upload-content[data-v-3c208292] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  font-size: 2rem;\n  align-items: center;\n  justify-content: center;\n  background: rgba(125, 125, 125, 0.7);\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n,i=t[1]||"",a=t[3];if(!a)return i;if(e&&"function"==typeof btoa){var r=(n=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),s=a.sources.map(function(t){return"/*# sourceURL="+a.sourceRoot+t+" */"});return[i].concat(s).concat([r]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},a=0;a<this.length;a++){var r=this[a][0];"number"==typeof r&&(i[r]=!0)}for(a=0;a<t.length;a++){var s=t[a];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){d=n,c=i||{};var r=a()(t,e);return g(r),function(e){for(var n=[],i=0;i<r.length;i++){var o=r[i];(h=s[o.id]).refs--,n.push(h)}for(e?g(r=a()(t,e)):r=[],i=0;i<n.length;i++){var h;if(0===(h=n[i]).refs){for(var l=0;l<h.parts.length;l++)h.parts[l]();delete s[h.id]}}}};var i=n(6),a=n.n(i),r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},o=r&&(document.head||document.getElementsByTagName("head")[0]),h=null,l=0,d=!1,u=function(){},c=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(t){for(var e=0;e<t.length;e++){var n=t[e],i=s[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(m(n.parts[a]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var r=[];for(a=0;a<n.parts.length;a++)r.push(m(n.parts[a]));s[n.id]={id:n.id,refs:1,parts:r}}}}function v(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function m(t){var e,n,i=document.querySelector("style["+f+'~="'+t.id+'"]');if(i){if(d)return u;i.parentNode.removeChild(i)}if(p){var a=l++;i=h||(h=v()),e=_.bind(null,i,a,!1),n=_.bind(null,i,a,!0)}else i=v(),e=function(t,e){var n=e.css,i=e.media,a=e.sourceMap;if(i&&t.setAttribute("media",i),c.ssrId&&t.setAttribute(f,e.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}var b,w=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function _(t,e,n,i){var a=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=w(e,a);else{var r=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=[],i={},a=0;a<e.length;a++){var r=e[a],s=r[0],o=r[1],h=r[2],l=r[3],d={id:t+":"+a,css:o,media:h,sourceMap:l};i[s]?i[s].parts.push(d):n.push(i[s]={id:s,parts:[d]})}return n}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"relative"},on:{drop:t.onDrop,dragover:t.onDragOver,dragleave:t.onDragLeave}},[n("canvas",{ref:"editor",class:t.canvasClass,staticStyle:{border:"1px solid #333"},attrs:{width:t.width,height:t.height},on:{mousedown:t.onPanStart}}),t._v(" "),t.validDrop?n("div",{staticClass:"upload-overlay"},[t._t("upload",[t._m(0)])],2):t._e(),t._v(" "),t.isLoading?t._t("loading"):t._e()],2)},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"default-upload-content"},[e("div",[this._v("Upload")])])}];i._withStripped=!0},function(t,e,n){"use strict";e.a=function(t,e,n,i,a,r,s,o){var h=typeof(t=t||{}).default;"object"!==h&&"function"!==h||(t=t.default);var l,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=n,d._compiled=!0),i&&(d.functional=!0),r&&(d._scopeId=r),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},d._ssrRegister=l):a&&(l=o?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(d.functional){d._injectStyles=l;var u=d.render;d.render=function(t,e){return l.call(e),u(t,e)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:d}}}])},178:function(t,e,n){"use strict";var i=n(168);n.n(i).a},179:function(t,e,n){(t.exports=n(14)(!1)).push([t.i,".btn-upload[data-v-a036f1da]{position:relative}.btn-upload[data-v-a036f1da],.btn-upload span[data-v-a036f1da]{cursor:pointer}.btn-upload input[data-v-a036f1da]{top:0;left:0;opacity:0;width:100%;height:100%;cursor:pointer;position:absolute}.crop-link[data-v-a036f1da]{padding-top:10px}",""])},188:function(t,e,n){"use strict";n.r(e);n(47),n(48),n(25),n(49);var i=n(5),a=n.n(i),r=n(177),s={components:{ImageSizer:n.n(r).a},data:function(){return{file:null,urls:[]}},methods:{onFileSave:function(){var t=a()(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.sizer.exportCanvas([{width:250,height:250},{width:75,height:75}]);case 2:n=t.sent,this.revoke(),this.urls.push({name:"Cropped",url:window.URL.createObjectURL(n[1])}),this.urls.push({name:"Thumb",url:window.URL.createObjectURL(n[2])});case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),revoke:function(){var t=!0,e=!1,n=void 0;try{for(var i,a=this.urls[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var r=i.value;window.URL.revokeObjectURL(r)}}catch(t){e=!0,n=t}finally{try{t||null==a.return||a.return()}finally{if(e)throw n}}this.urls=[]},onReset:function(){this.revoke(),this.file=null},onFileChange:function(t){this.revoke(),t.target.files&&0!==t.target.files.length?this.file=t.target.files[0]:this.file=null}}},o=(n(178),n(8)),h=Object(o.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"centered"},[n("image-sizer",{ref:"sizer",attrs:{width:250,height:250,file:t.file},on:{draw:t.revoke,loaderror:t.onReset}})],1),t._v(" "),n("div",{staticClass:"centered"},[t.file?t._e():n("div",{staticClass:"btn btn-upload"},[n("span",[t._v("Upload Image")]),t._v(" "),n("input",{attrs:{type:"file",title:" "},on:{change:t.onFileChange}})]),t._v(" "),t.file?n("div",{staticClass:"btn btn-upload btn-small",on:{click:t.onFileSave}},[t._v("Generate")]):t._e(),t._v(" "),t.file?n("div",{staticClass:"btn btn-accent btn-upload btn-small",on:{click:t.onReset}},[t._v("Reset")]):t._e()]),t._v(" "),t.urls.length>0?n("div",{staticClass:"centered crop-link"},t._l(t.urls,function(e){return n("a",{key:e.name,staticClass:"btn",attrs:{href:e.url,target:"_blank"}},[t._v("Download "+t._s(e.name))])}),0):t._e()])},[],!1,null,"a036f1da",null);h.options.__file="image-sizer.vue";e.default=h.exports}}]);